### 1.图片圆角处理方法和优化

方法一：通过设置layer属性，最简单的一种，但是很影响性能，一般在正常开发中很少使用。就是用到了imageView.layer的两个属性，分别为cornerRadius = imageView.bounds.size.width/2和 maskToBounds = YES

```objc
UIImageView *imageView = [UIImageView alloc] initWithFrame:CGRectMake(0,0,200,200)];
imageView.image = [UIImage imageNamed:@"tupian"];
imageView.layer.cornerRadius = imageView.bounds.size.width/2;
imageView.layer.maskToBounds = YES;
imageView.center = self.view.cenger;
[self.view addSubview:imageView];
```

方法二：使用UIBezierPath 和 Core Graphics框架画一个圆角

### 2.http和https的区别，https用了什么加密算法？

1. https协议需要到ca申请证书，一般免费证书很少，需要交费。
2. https是超文本传输协议，信息是明文传输，https则是具有安全性的ssl加密传输协议。
3. http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443.
4. http的连接很简单，是无状态的；https协议是有ssl+http协议构建的可进行加密传输、身份认证的网络，比http协议安全。

### 3.Scoket连接和Http连接的区别

HTTP协议：简单的对象访问协议，对应于应用层，http协议是基于TCP连接的

tcp协议：对应于传输层

ip协议：对应于网络层

TCP/IP是传输层协议，主要解决数据如何在网络中传输；而HTTP是应用层协议，主要解决如何包装数据。

##### Socket是对TCP/IP协议的封装，Scoket本身并不是协议，而是一个调用接口（API），通过Scoket，我们才能使用TCP/IP协议。

http连接：就是所谓的短连接，即客户端想服务器发送一次请求，服务器端响应后连接即会断掉

scoket连接：scoket就是所谓的长连接，理论上客户端像服务器端一旦建立起 连接将不会主动的断掉；但是由于各种环境因素可能会连接断开，比如服务器端或者客户端主机down了，网路故障，或者长时间没有数据传输。当一个socket连接中没有数据传输时候，那么为了维持连接需要发送心跳消息，具体心跳消息格式是开发者自己定义的

##### 要想明白Scoket连接，先要明白TCP连接，手机能够使用联网功能是因为手机底层实现了TCP/IP协议，可以使用手机终端通过无线网络建立TCP连接。TCP协议可以对上层网络提供接口，使得上层网络数据的传输建立在“无差别”的网络之上。

#### 建立起一个TCP连接需要经过“三次握手”：

##### TCP连接

第一次握手：客户端发送syn包\(syn = j\)到服务器，并进入SYN\_SEND状态，等待服务器确认；

第二次握手：服务器收到syn包，必须确认客户端的SYN（ack = j + 1）,同时自己也发送一个SYN包（syn = k），即SYN+ACK包，此时服务器进入SYN\_RECV状态；

第三次握手：客户端收到服务器的SYN +ACK包，像服务器发送确认包ACK（ack = k + 1），此包发送完毕，客户端和服务器进入ESTABLISHED状态，完成三次握手。

握手过程中传送的包不包含数据，三次握手完毕后，客户端与服务器才开始传送数据。理想状态下，TCP连接一旦建立，在通信双方中的任何一方主动关闭连接，TCP连接都将被一直保持下去。断开连接时候服务器和哭护短均可以主动发起断开TCP连接的请求，断开过程需要经过“四次握手”

##### Http连接

HTTP连接最显著的特点是客户端发送的每次请求都需要服务器回送响应，在请求结束后，会主动释放连接。从建立连接到关闭连接的过程称为“一次连接”

1）在HTTP 1.0中，客户端的每次请求都要求建立一次单独的连接，在处理完本次请求后，就自动释放连接

在HTTP 1.1中则可以在一次连接中处理多个请求，并且多个请求可以重叠进行，不需要等待一个请求结束后再发送下一个请求

##### 由于HTTP在每次请求结束后都会主动释放连接，因此HTTP连接是一种“短连接”，要保持客户端程序的在线状态，需要不断地向服务器发起连接请求。通常的做法是即时不需要获得任何数据，客户端也保持每隔一段固定的时间向服务器发送一次“保持连接”的请求，服务器在收到该请求后对客户端进行回复，表明知道客户端“在线”。若服务器长时间无法收到客户端的请求，则认为客户端“下线”，若客户端长时间无法收到服务器的回复，则认为网络已经断开。



**SOCKET原理**

套接字（socket）是通信的基石，是支持TCP/IP协议的网络通信的基本操作单元。它是网络通信过程中**端点的抽象表示**，包含进行网络通信必须的五种信息：**连接使用的协议**，**本地主机的IP地址**，**本地进程的协议端口**，**远地主机的IP地址**，**远地进程的协议端口**。

**应用层可以和传输层通过Socket接口**，区分来自不同应用程序进程或网络连接的通信，实现数据传输的并发服务。

##### 建立socket连接

**建立Socket连接至少需要一对套接字**，其中一个运行于客户端，称为ClientSocket ，另一个运行于服务器端，称为ServerSocket 。

套接字之间的连接过程分为三个步骤：**服务器监听**，**客户端请求**，**连接确认**

服务器监听：服务器端套接字并不定位具体的客户端套接字，而是处于等待连接的状态，实时监控网络状态，**等待客户端的连接请求**。

客户端请求：指客户端的套接字提出连接请求，要连接的目标是服务器端的套接字。为此，客户端的套接字必须首先**描述它要连接的服务器的套接字，指出服务器端套接字的地址和端口号，然后就向服务器端套接字提出连接请求。**

连接确认：**当服务器端套接字监听到或者说接收到客户端套接字的连接请求时**，就响应客户端套接字的请求，**建立一个新的线程，把服务器端套接字的描述发给客户端，一旦客户端确认了此描述**，双方就正式建立连接。而服务器端套接字继续处于监听状态，继续接收其他客户端套接字的连接请求。



**SOCKET连接与TCP连接**

**创建Socket连接时，可以指定使用的传输层协议**，Socket可以支持不同的传输层协议（**TCP或UDP**），当使用TCP协议进行连接时，该Socket连接就是一个TCP连接

